\section{Тестирование серверных вычислений}

Для того, чтобы оценить возможности использования серверных вычислений, были
сделаны эксперименты по их выполнению с разными моделями. В качестве алгоритма,
исполняемого на сервере, выступал однопроходный алгоритм масштабирования.

\begin{lstlisting}[language=c++]
#include "scale_x2.h"
using namespace std;
using namespace threejs;

void scale_x2(Geometry& _return, const Geometry& geom) {
    vector<Vertex> vv = geom.vertices;
    for(vector<Vertex>::iterator it = vv.begin(); it != vv.end(); ++it) {
        Vertex v = *it;
        v.x *= 2;
        v.y *= 2;
        v.z *= 2;

        _return.vertices.push_back(v);
    }
}
\end{lstlisting}

Результатом каждого эксперимента была задержка - количество времени, прошедшее
с начала отправления зарпоса в браузере, до получения и применения ответа.
Каждый эксперимент проводился при условии соединения клиентской машины с сетью
Интернет как по локальной сети с помощью WiFi, так и через протокол передачи
данных 3G, что обусловленно нацеленностью проекта на мобильные технологии.

Сервер, обрабатывающий запросы, географически располагался в Германии, и имеет
следующие параметры
\begin{itemize}
    \item Процессор: 3073МГц
    \item Память: 500Мб
    \item Канал интернет: обеспечивает скорость более 2 Мегабайт/с на загрузку, и
    столько же на отдачу
\end{itemize}

В результате проведения экспериментов были получены следующие результаты,
сведенные в единую таблицу

\begin{table}[ht]
\caption{Серверные вычисления, 3G}
\begin{center}
\scalebox{1.0}{%
    \begin{tabular}{ | c | c | c | c | c | c | }
    \hline
    Количество полигонов & 3098 & 12334 & 23496 & 114344 & 254714 \\
    \hline
    LAN задержка, мс & 757 & 1569 & 4694 & 13386 & 52173 \\
    \hline
    3G задержка, мс & 2291 & 8014 & 31963 & 78986 & - \\
    \hline
    Взаимодействие node-thrift & 356 & 931 & 2670 & 7005 & 40663 \\
    \end{tabular}
}
\end{center}
\label{table:nonlin}
\end{table}

При анализе результатов эксперимента оказалось, что большая часть потраченного
времени уходила на процессы сериализации и передачи данных в модуле
``Node-Thrift''. Данная проблема уже замечена и решается разработчиком модуля,
что дает надежду на скорое ее разрешение в ближайшем будущем.

